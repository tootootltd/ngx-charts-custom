import { LegendPosition } from './types/legend.model';
import { ScaleType } from './types/scale-type.enum';
export function calculateViewDimensions({ width, height, margins, showXAxis = false, showYAxis = false, xAxisHeight = 0, yAxisWidth = 0, showXLabel = false, showYLabel = false, showLegend = false, legendType = ScaleType.Ordinal, legendPosition = LegendPosition.Right, columns = 12 }) {
    let xOffset = margins[3];
    let chartWidth = width;
    let chartHeight = height - margins[0] - margins[2];
    if (showLegend && legendPosition === LegendPosition.Right) {
        if (legendType === ScaleType.Ordinal) {
            columns -= 2;
        }
        else {
            columns -= 1;
        }
    }
    chartWidth = (chartWidth * columns) / 12;
    chartWidth = chartWidth - margins[1] - margins[3];
    if (showXAxis) {
        chartHeight -= 5;
        chartHeight -= xAxisHeight;
        if (showXLabel) {
            // text height + spacing between axis label and tick labels
            const offset = 25 + 5;
            chartHeight -= offset;
        }
    }
    if (showYAxis) {
        chartWidth -= 5;
        chartWidth -= yAxisWidth;
        xOffset += yAxisWidth;
        xOffset += 10;
        if (showYLabel) {
            // text height + spacing between axis label and tick labels
            const offset = 25 + 5;
            chartWidth -= offset;
            xOffset += offset;
        }
    }
    chartWidth = Math.max(0, chartWidth);
    chartHeight = Math.max(0, chartHeight);
    return {
        width: Math.floor(chartWidth),
        height: Math.floor(chartHeight),
        xOffset: Math.floor(xOffset)
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaW1lbnNpb25zLmhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3RvbW15ZGVha3Mvbmd4LWNoYXJ0cy9zcmMvbGliL2NvbW1vbi92aWV3LWRpbWVuc2lvbnMuaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFHcEQsTUFBTSxVQUFVLHVCQUF1QixDQUFDLEVBQ3RDLEtBQUssRUFDTCxNQUFNLEVBQ04sT0FBTyxFQUNQLFNBQVMsR0FBRyxLQUFLLEVBQ2pCLFNBQVMsR0FBRyxLQUFLLEVBQ2pCLFdBQVcsR0FBRyxDQUFDLEVBQ2YsVUFBVSxHQUFHLENBQUMsRUFDZCxVQUFVLEdBQUcsS0FBSyxFQUNsQixVQUFVLEdBQUcsS0FBSyxFQUNsQixVQUFVLEdBQUcsS0FBSyxFQUNsQixVQUFVLEdBQUcsU0FBUyxDQUFDLE9BQU8sRUFDOUIsY0FBYyxHQUFHLGNBQWMsQ0FBQyxLQUFLLEVBQ3JDLE9BQU8sR0FBRyxFQUFFLEVBQ2I7SUFDQyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLElBQUksV0FBVyxHQUFHLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRW5ELElBQUksVUFBVSxJQUFJLGNBQWMsS0FBSyxjQUFjLENBQUMsS0FBSyxFQUFFO1FBQ3pELElBQUksVUFBVSxLQUFLLFNBQVMsQ0FBQyxPQUFPLEVBQUU7WUFDcEMsT0FBTyxJQUFJLENBQUMsQ0FBQztTQUNkO2FBQU07WUFDTCxPQUFPLElBQUksQ0FBQyxDQUFDO1NBQ2Q7S0FDRjtJQUVELFVBQVUsR0FBRyxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7SUFFekMsVUFBVSxHQUFHLFVBQVUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRWxELElBQUksU0FBUyxFQUFFO1FBQ2IsV0FBVyxJQUFJLENBQUMsQ0FBQztRQUNqQixXQUFXLElBQUksV0FBVyxDQUFDO1FBRTNCLElBQUksVUFBVSxFQUFFO1lBQ2QsMkRBQTJEO1lBQzNELE1BQU0sTUFBTSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDdEIsV0FBVyxJQUFJLE1BQU0sQ0FBQztTQUN2QjtLQUNGO0lBRUQsSUFBSSxTQUFTLEVBQUU7UUFDYixVQUFVLElBQUksQ0FBQyxDQUFDO1FBQ2hCLFVBQVUsSUFBSSxVQUFVLENBQUM7UUFDekIsT0FBTyxJQUFJLFVBQVUsQ0FBQztRQUN0QixPQUFPLElBQUksRUFBRSxDQUFDO1FBRWQsSUFBSSxVQUFVLEVBQUU7WUFDZCwyREFBMkQ7WUFDM0QsTUFBTSxNQUFNLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN0QixVQUFVLElBQUksTUFBTSxDQUFDO1lBQ3JCLE9BQU8sSUFBSSxNQUFNLENBQUM7U0FDbkI7S0FDRjtJQUVELFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNyQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFFdkMsT0FBTztRQUNMLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztRQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDL0IsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0tBQzdCLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGVnZW5kUG9zaXRpb24gfSBmcm9tICcuL3R5cGVzL2xlZ2VuZC5tb2RlbCc7XG5pbXBvcnQgeyBTY2FsZVR5cGUgfSBmcm9tICcuL3R5cGVzL3NjYWxlLXR5cGUuZW51bSc7XG5pbXBvcnQgeyBWaWV3RGltZW5zaW9ucyB9IGZyb20gJy4vdHlwZXMvdmlldy1kaW1lbnNpb24uaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVZpZXdEaW1lbnNpb25zKHtcbiAgd2lkdGgsXG4gIGhlaWdodCxcbiAgbWFyZ2lucyxcbiAgc2hvd1hBeGlzID0gZmFsc2UsXG4gIHNob3dZQXhpcyA9IGZhbHNlLFxuICB4QXhpc0hlaWdodCA9IDAsXG4gIHlBeGlzV2lkdGggPSAwLFxuICBzaG93WExhYmVsID0gZmFsc2UsXG4gIHNob3dZTGFiZWwgPSBmYWxzZSxcbiAgc2hvd0xlZ2VuZCA9IGZhbHNlLFxuICBsZWdlbmRUeXBlID0gU2NhbGVUeXBlLk9yZGluYWwsXG4gIGxlZ2VuZFBvc2l0aW9uID0gTGVnZW5kUG9zaXRpb24uUmlnaHQsXG4gIGNvbHVtbnMgPSAxMlxufSk6IFZpZXdEaW1lbnNpb25zIHtcbiAgbGV0IHhPZmZzZXQgPSBtYXJnaW5zWzNdO1xuICBsZXQgY2hhcnRXaWR0aCA9IHdpZHRoO1xuICBsZXQgY2hhcnRIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW5zWzBdIC0gbWFyZ2luc1syXTtcblxuICBpZiAoc2hvd0xlZ2VuZCAmJiBsZWdlbmRQb3NpdGlvbiA9PT0gTGVnZW5kUG9zaXRpb24uUmlnaHQpIHtcbiAgICBpZiAobGVnZW5kVHlwZSA9PT0gU2NhbGVUeXBlLk9yZGluYWwpIHtcbiAgICAgIGNvbHVtbnMgLT0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29sdW1ucyAtPSAxO1xuICAgIH1cbiAgfVxuXG4gIGNoYXJ0V2lkdGggPSAoY2hhcnRXaWR0aCAqIGNvbHVtbnMpIC8gMTI7XG5cbiAgY2hhcnRXaWR0aCA9IGNoYXJ0V2lkdGggLSBtYXJnaW5zWzFdIC0gbWFyZ2luc1szXTtcblxuICBpZiAoc2hvd1hBeGlzKSB7XG4gICAgY2hhcnRIZWlnaHQgLT0gNTtcbiAgICBjaGFydEhlaWdodCAtPSB4QXhpc0hlaWdodDtcblxuICAgIGlmIChzaG93WExhYmVsKSB7XG4gICAgICAvLyB0ZXh0IGhlaWdodCArIHNwYWNpbmcgYmV0d2VlbiBheGlzIGxhYmVsIGFuZCB0aWNrIGxhYmVsc1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gMjUgKyA1O1xuICAgICAgY2hhcnRIZWlnaHQgLT0gb2Zmc2V0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChzaG93WUF4aXMpIHtcbiAgICBjaGFydFdpZHRoIC09IDU7XG4gICAgY2hhcnRXaWR0aCAtPSB5QXhpc1dpZHRoO1xuICAgIHhPZmZzZXQgKz0geUF4aXNXaWR0aDtcbiAgICB4T2Zmc2V0ICs9IDEwO1xuXG4gICAgaWYgKHNob3dZTGFiZWwpIHtcbiAgICAgIC8vIHRleHQgaGVpZ2h0ICsgc3BhY2luZyBiZXR3ZWVuIGF4aXMgbGFiZWwgYW5kIHRpY2sgbGFiZWxzXG4gICAgICBjb25zdCBvZmZzZXQgPSAyNSArIDU7XG4gICAgICBjaGFydFdpZHRoIC09IG9mZnNldDtcbiAgICAgIHhPZmZzZXQgKz0gb2Zmc2V0O1xuICAgIH1cbiAgfVxuXG4gIGNoYXJ0V2lkdGggPSBNYXRoLm1heCgwLCBjaGFydFdpZHRoKTtcbiAgY2hhcnRIZWlnaHQgPSBNYXRoLm1heCgwLCBjaGFydEhlaWdodCk7XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogTWF0aC5mbG9vcihjaGFydFdpZHRoKSxcbiAgICBoZWlnaHQ6IE1hdGguZmxvb3IoY2hhcnRIZWlnaHQpLFxuICAgIHhPZmZzZXQ6IE1hdGguZmxvb3IoeE9mZnNldClcbiAgfTtcbn1cbiJdfQ==